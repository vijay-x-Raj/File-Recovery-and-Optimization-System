(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72436,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),s="horizontal",i=["horizontal","vertical"],n=a.forwardRef((e,a)=>{var n;let{decorative:d,orientation:l=s,...o}=e,c=(n=l,i.includes(n))?l:s;return(0,t.jsx)(r.Primitive.div,{"data-orientation":c,...d?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:a})});n.displayName="Separator",e.s(["Root",()=>n,"Separator",()=>n],86392);var d=e.i(86392),d=d,l=e.i(75157);function o({className:e,orientation:a="horizontal",decorative:r=!0,...s}){return(0,t.jsx)(d.Root,{"data-slot":"separator",decorative:r,orientation:a,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...s})}e.s(["Separator",()=>o],72436)},15288,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function d({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>s,"CardTitle",()=>i])},87486,e=>{"use strict";var t=e.i(43476),a=e.i(25913),r=e.i(86011),s=e.i(75157);let i=(0,a.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a="default",asChild:n=!1,...d}){let l=n?r.Slot.Root:"span";return(0,t.jsx)(l,{"data-slot":"badge","data-variant":a,className:(0,s.cn)(i({variant:a}),e),...d})}e.s(["Badge",()=>n])},52571,e=>{"use strict";let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],52571)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},60229,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(46932),s=e.i(88653),i=e.i(74667),n=e.i(15288),d=e.i(19455),l=e.i(87486),o=e.i(72436),c=e.i(75254);let x=(0,c.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),m=(0,c.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),h=(0,c.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),u=(0,c.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var p=e.i(7233);let f=(0,c.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var g=e.i(52571);function v({node:e,onSelect:i,selected:n}){let[d,l]=(0,a.useState)(e.depth<2);return(0,t.jsxs)(r.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:[(0,t.jsxs)("div",{className:`flex items-center gap-1 py-1 px-2 rounded-md cursor-pointer transition-all duration-200 ${n===e.id?"bg-primary/10 text-primary":"hover:bg-muted"}`,style:{paddingLeft:`${20*e.depth+8}px`},onClick:()=>{i(e),e.isDirectory&&l(!d)},children:[e.isDirectory?(0,t.jsxs)(t.Fragment,{children:[d?(0,t.jsx)(u,{className:"h-4 w-4 text-muted-foreground shrink-0"}):(0,t.jsx)(h,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,t.jsx)(x,{className:"h-4 w-4 text-amber-500 shrink-0"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-4"}),(0,t.jsx)(m,{className:"h-4 w-4 text-blue-500 shrink-0"})]}),(0,t.jsx)("span",{className:"text-sm font-medium truncate",children:e.name}),!e.isDirectory&&(0,t.jsxs)("span",{className:"text-xs text-muted-foreground ml-auto",children:[(e.size/1024).toFixed(1),"KB"]})]}),(0,t.jsx)(s.AnimatePresence,{children:d&&e.isDirectory&&e.children.length>0&&(0,t.jsx)(r.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.children.map(e=>(0,t.jsx)(v,{node:e,onSelect:i,selected:n},e.id))})})]})}function j(){let{simulator:e,tick:s,refresh:c}=(0,i.useSimulator)(),[x,m]=(0,a.useState)(null),h=(0,a.useMemo)(()=>e.getDirectoryTree(),[e,s]),u=(0,a.useMemo)(()=>Array.from(e.files.values()),[e,s]),j=u.filter(e=>e.isDirectory).length,y=u.filter(e=>!e.isDirectory).length,N=x?e.files.get(x.id):null;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["Directory ",(0,t.jsx)("span",{className:"text-gradient",children:"Structure"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1 leading-relaxed",children:"Explore the hierarchical file system tree and inode metadata"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsx)(n.Card,{className:"card-hover glass border-amber-500/10",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 pb-4 text-center",children:[(0,t.jsx)("p",{className:"text-[11px] text-muted-foreground font-medium uppercase tracking-wide",children:"Directories"}),(0,t.jsx)("p",{className:"text-2xl font-bold tabular-nums",children:j})]})}),(0,t.jsx)(n.Card,{className:"card-hover glass border-blue-500/10",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 pb-4 text-center",children:[(0,t.jsx)("p",{className:"text-[11px] text-muted-foreground font-medium uppercase tracking-wide",children:"Files"}),(0,t.jsx)("p",{className:"text-2xl font-bold tabular-nums",children:y})]})}),(0,t.jsx)(n.Card,{className:"card-hover glass border-purple-500/10",children:(0,t.jsxs)(n.CardContent,{className:"pt-4 pb-4 text-center",children:[(0,t.jsx)("p",{className:"text-[11px] text-muted-foreground font-medium uppercase tracking-wide",children:"Max Depth"}),(0,t.jsx)("p",{className:"text-2xl font-bold tabular-nums",children:Math.max(...u.filter(e=>!e.isDirectory).map(t=>{let a=0,r=t;for(;r.parentId&&(a++,r=e.files.get(r.parentId)););return a}),0)})]})})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-5 gap-6",children:[(0,t.jsxs)(n.Card,{className:"lg:col-span-3",children:[(0,t.jsx)(n.CardHeader,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.CardTitle,{children:"File Tree"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.Button,{size:"sm",variant:"outline",onClick:()=>{let t=x?.isDirectory?x.id:"root",a=`dir_${Date.now().toString(36)}`;e.createDirectory(a,t),c()},className:"gap-1",children:[(0,t.jsx)(f,{className:"h-3.5 w-3.5"})," Dir"]}),(0,t.jsxs)(d.Button,{size:"sm",onClick:()=>{let t=x?.isDirectory?x.id:"root",a=`new_${Date.now().toString(36)}.dat`;e.createFile(a,Math.ceil(5*Math.random())+1,t,"linked"),c()},className:"gap-1",children:[(0,t.jsx)(p.Plus,{className:"h-3.5 w-3.5"})," File"]})]})]})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"border rounded-lg p-2 max-h-[500px] overflow-y-auto",children:(0,t.jsx)(v,{node:h,onSelect:m,selected:x?.id||null})})})]}),(0,t.jsxs)(n.Card,{className:"lg:col-span-2",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Info,{className:"h-4 w-4 text-blue-500"}),"Inode Details"]}),(0,t.jsx)(n.CardDescription,{children:N?`Metadata for "${N.name}"`:"Select a file or directory to view its metadata"})]}),(0,t.jsx)(n.CardContent,{children:N?(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-y-3 text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Inode"}),(0,t.jsx)("span",{className:"font-mono",children:N.inode}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Type"}),(0,t.jsx)(l.Badge,{variant:N.isDirectory?"default":"secondary",children:N.isDirectory?"Directory":"File"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Name"}),(0,t.jsx)("span",{className:"font-medium",children:N.name}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Size"}),(0,t.jsxs)("span",{children:[(N.size/1024).toFixed(1)," KB"]}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Permissions"}),(0,t.jsx)("span",{className:"font-mono text-xs",children:N.permissions}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Created"}),(0,t.jsx)("span",{className:"text-xs",children:new Date(N.createdAt).toLocaleTimeString()}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"Modified"}),(0,t.jsx)("span",{className:"text-xs",children:new Date(N.modifiedAt).toLocaleTimeString()})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Allocated Blocks (",N.blocks.length,")"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[N.blocks.map((e,a)=>(0,t.jsx)(r.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.03*a},children:(0,t.jsx)(l.Badge,{variant:"outline",className:"font-mono text-xs",children:e})},e)),0===N.blocks.length&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"No blocks (directory)"})]})]}),N.isDirectory&&N.children&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Children (",N.children.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:N.children.map(a=>{let r=e.files.get(a);return(0,t.jsxs)(l.Badge,{variant:"secondary",className:"text-xs",children:[r?.isDirectory?"ðŸ“":"ðŸ“„"," ",r?.name]},a)})})]})]})]},N.id):(0,t.jsx)("div",{className:"flex items-center justify-center h-40 text-muted-foreground text-sm",children:"Click a node in the tree"})})]})]})]})}e.s(["default",()=>j],60229)}]);